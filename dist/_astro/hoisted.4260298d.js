import"./mobileMenu.779530aa.js";class b{subscribers;static nextId=0;constructor(){this.subscribers={}}dispatch(t,s){const e=this.subscribers[t];e!==void 0&&Object.keys(e).forEach(o=>e[o](s))}register(t,s){const e=this.getNextId();return this.subscribers[t]||(this.subscribers[t]={}),this.subscribers[t][e]=s,{unregister:()=>{delete this.subscribers[t][e],Object.keys(this.subscribers[t]).length===0&&delete this.subscribers[t]}}}getNextId(){return b.nextId++}}class i{static _instance=null;eventBus;static getInstance(){return i._instance||(i._instance=new i),i._instance}getEventBus(){return this.eventBus||(this.eventBus=new b),this.eventBus}}const d=new i,u=d.getEventBus();function a(r){u.dispatch("contactFormSubmitStateUpdate",r)}function f(){const r=document.querySelector("#contact-form"),t=document.querySelector(".contact-form-submit-button"),s=document.querySelector("#contact-form-submit-button-spinner"),e=document.querySelector(".contact-form-message-success"),o=document.querySelector(".contact-form-message-error");r&&(r.addEventListener("submit",async function(n){n.preventDefault();const m=new FormData(r),c=Object.fromEntries(m);try{u.dispatch("contactFormSubmit"),e.style.display="none",o.style.display="none",a("loading"),(await(await fetch("https://formzen.io/api/forms/Eg4rQD8Fuv/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:{name:c.name,email:c.email,subject:c.subject,message:c.message},mailSettings:{replyTo:c.email}})})).json()).status==="success"?(a("ok"),r.reset()):a("error")}catch{a("error")}}),u.register("contactFormSubmitStateUpdate",n=>{s&&(n==="loading"?(t.setAttribute("disabled",""),s.style.display="block"):(t.removeAttribute("disabled"),s.style.display="none")),n==="ok"&&(e.style.display="block"),n==="error"&&(o.style.display="block")}))}f();
